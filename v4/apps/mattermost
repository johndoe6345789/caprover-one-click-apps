{"captainVersion":4,"services":{"$$cap_appname-db":{"image":"postgres:$$cap_postgres_version","volumes":["$$cap_appname-db-data:/var/lib/postgresql/data"],"restart":"always","environment":{"POSTGRES_DB":"mattermost","POSTGRES_USER":"mattermost","POSTGRES_PASSWORD":"$$cap_db_password"}},"$$cap_appname":{"image":"mattermost/mattermost-team-edition:$$cap_mattermost_version","volumes":["$$cap_appname-config:/mattermost/config","$$cap_appname-data:/mattermost/data","$$cap_appname-logs:/mattermost/logs","$$cap_appname-plugins:/mattermost/plugins"],"restart":"always","environment":{"MM_SQLSETTINGS_DRIVERNAME":"postgres","MM_SQLSETTINGS_DATASOURCE":"postgres://mattermost:$$cap_db_password@$$cap_appname-db:5432/mattermost?sslmode=disable&connect_timeout=10","MM_SERVICESETTINGS_SITEURL":"http://$$cap_appname.$$cap_root_domain"},"depends_on":["$$cap_appname-db"],"caproverExtra":{"containerHttpPort":8065}}},"caproverOneClickApp":{"variables":[{"id":"$$cap_mattermost_version","label":"Mattermost Version","defaultValue":"9.3","description":"Check out their Docker page for the valid tags https://hub.docker.com/r/mattermost/mattermost-team-edition/tags","validRegex":"/.{1,}/"},{"id":"$$cap_postgres_version","label":"PostgreSQL Version","defaultValue":"15"},{"id":"$$cap_db_password","label":"Database Password"}],"instructions":{"start":"Deploying Mattermost team collaboration platform.","end":"Mattermost has been deployed! Visit http://$$cap_appname.$$cap_root_domain to create your admin account."},"displayName":"Mattermost","isOfficial":false,"description":"Open-source team collaboration. Slack alternative with messaging, file sharing, and integrations for team communication."}}
