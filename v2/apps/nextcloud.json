{"captainVersion":2,"dockerCompose":{"services":{"$$cap_appname-db":{"image":"mariadb:$$cap_mariadb_version","volumes":["$$cap_appname-db-data:/var/lib/mysql"],"restart":"always","environment":{"MYSQL_ROOT_PASSWORD":"$$cap_db_root_password","MYSQL_DATABASE":"nextcloud","MYSQL_USER":"nextcloud","MYSQL_PASSWORD":"$$cap_db_password"}},"$$cap_appname":{"image":"nextcloud:$$cap_nextcloud_version","volumes":["$$cap_appname-data:/var/www/html"],"restart":"always","environment":{"MYSQL_HOST":"$$cap_appname-db","MYSQL_DATABASE":"nextcloud","MYSQL_USER":"nextcloud","MYSQL_PASSWORD":"$$cap_db_password","NEXTCLOUD_ADMIN_USER":"$$cap_admin_user","NEXTCLOUD_ADMIN_PASSWORD":"$$cap_admin_password","NEXTCLOUD_TRUSTED_DOMAINS":"$$cap_appname.$$cap_root_domain"},"depends_on":["$$cap_appname-db"],"containerHttpPort":80}}},"variables":[{"id":"$$cap_nextcloud_version","label":"Nextcloud Version","defaultValue":"28","description":"Check out their Docker page for the valid tags https://hub.docker.com/_/nextcloud/tags","validRegex":"/.{1,}/"},{"id":"$$cap_mariadb_version","label":"MariaDB Version","defaultValue":"11.2"},{"id":"$$cap_db_root_password","label":"Database Root Password"},{"id":"$$cap_db_password","label":"Database Password"},{"id":"$$cap_admin_user","label":"Admin Username","defaultValue":"admin"},{"id":"$$cap_admin_password","label":"Admin Password"}],"instructions":{"start":"Deploying Nextcloud file sharing and collaboration platform.","end":"Nextcloud has been deployed! Visit http://$$cap_appname.$$cap_root_domain to access your cloud storage."},"displayName":"Nextcloud","isOfficial":false,"description":"File sharing and collaboration platform. Self-hosted productivity suite with files, calendars, contacts, and office suite."}
